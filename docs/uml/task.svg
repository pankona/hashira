<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1915px" preserveAspectRatio="none" style="width:761px;height:1915px;" version="1.1" viewBox="0 0 761 1915" width="761px" zoomAndPan="magnify"><defs><filter height="300%" id="f15v6b9h5rogdx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="25" x2="25" y1="84" y2="1903"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="71" x2="71" y1="84" y2="1903"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="256.5" x2="256.5" y1="84" y2="1903"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="511.5" x2="511.5" y1="84" y2="1903"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="8" y="82.3184">user</text><ellipse cx="25" cy="13" fill="#FEFECE" filter="url(#f15v6b9h5rogdx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M25,21 L25,48 M12,29 L38,29 M25,48 L12,63 M25,48 L38,63 " fill="#FEFECE" filter="url(#f15v6b9h5rogdx)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f15v6b9h5rogdx)" height="28" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="52" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="59" y="70.3184">cui</text><rect fill="#FEFECE" filter="url(#f15v6b9h5rogdx)" height="28" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="226.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="233.5" y="70.3184">daemon</text><rect fill="#FEFECE" filter="url(#f15v6b9h5rogdx)" height="28" style="stroke: #A80036; stroke-width: 1.5;" width="28" x="495.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="14" x="502.5" y="70.3184">DB</text><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="746" x="3" y="113.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="113.5" y2="113.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="116.5" y2="116.5"/><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="21" style="stroke: #000000; stroke-width: 2.0;" width="158" x="297" y="104"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="303" y="119.4385">initialize daemon</text><polygon fill="#A80036" points="244.5,150,254.5,154,244.5,158,248.5,154" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="25" x2="250.5" y1="154" y2="154"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="32" y="150.4385">launch</text><polygon fill="#A80036" points="499.5,177,509.5,181,499.5,185,503.5,181" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256.5" x2="505.5" y1="181" y2="181"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="263.5" y="177.4385">create config and DB if not exist</text><polygon fill="#A80036" points="267.5,204,257.5,208,267.5,212,263.5,208" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="510.5" y1="208" y2="208"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="273.5" y="204.4385">ok</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="256.5" x2="298.5" y1="235" y2="235"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="298.5" x2="298.5" y1="235" y2="248"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257.5" x2="298.5" y1="248" y2="248"/><polygon fill="#A80036" points="267.5,244,257.5,248,267.5,252,263.5,248" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="263.5" y="231.4385">start gRPC server</text><polygon fill="#A80036" points="36,271,26,275,36,279,32,275" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="255.5" y1="275" y2="275"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="42" y="271.4385">ok</text><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="746" x="3" y="302.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="302.5" y2="302.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="305.5" y2="305.5"/><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="21" style="stroke: #000000; stroke-width: 2.0;" width="134" x="309" y="293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="315" y="308.4385">add a new task</text><polygon fill="#A80036" points="244.5,352,254.5,356,244.5,360,248.5,356" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="250.5" y1="356" y2="356"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="78.5" y="339.4385">command(new)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="85.5" y="352.4385">via gRPC</text><polygon fill="#FBFB77" filter="url(#f15v6b9h5rogdx)" points="261,369,261,431,359,431,359,379,349,369,261,369" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="349" x2="349" y1="369" y2="379"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359" x2="349" y1="379" y2="379"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="267" y="385.4385">with task's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="274" y="398.4385">name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="274" y="411.4385">status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="274" y="424.4385">label</text><polygon fill="#A80036" points="499.5,455,509.5,459,499.5,463,503.5,459" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256.5" x2="505.5" y1="459" y2="459"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="263.5" y="455.4385">execute insert query</text><polygon fill="#A80036" points="267.5,482,257.5,486,267.5,490,263.5,486" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="510.5" y1="486" y2="486"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="273.5" y="482.4385">ok</text><polygon fill="#A80036" points="82.5,509,72.5,513,82.5,517,78.5,513" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="255.5" y1="513" y2="513"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="88.5" y="509.4385">ok</text><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="746" x="3" y="540.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="540.5" y2="540.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="543.5" y2="543.5"/><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="21" style="stroke: #000000; stroke-width: 2.0;" width="310" x="221" y="531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="227" y="546.4385">retrieve list of tasks (ordinal use)</text><polygon fill="#A80036" points="244.5,590,254.5,594,244.5,598,248.5,594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="250.5" y1="594" y2="594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="78.5" y="577.4385">command(list)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="85.5" y="590.4385">via gRPC</text><polygon fill="#FBFB77" filter="url(#f15v6b9h5rogdx)" points="261,607,261,682,373,682,373,617,363,607,261,607" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="363" x2="363" y1="607" y2="617"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="373" x2="363" y1="617" y2="617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="267" y="623.4385">with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="274" y="636.4385">Backlog</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="274" y="649.4385">ToDo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="274" y="662.4385">Doing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="274" y="675.4385">Today's Done</text><polygon fill="#A80036" points="499.5,706,509.5,710,499.5,714,503.5,710" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256.5" x2="505.5" y1="710" y2="710"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="263.5" y="706.4385">execute select query</text><polygon fill="#A80036" points="267.5,733,257.5,737,267.5,741,263.5,737" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="510.5" y1="737" y2="737"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="273.5" y="733.4385">ok (with task list)</text><polygon fill="#A80036" points="82.5,760,72.5,764,82.5,768,78.5,764" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="255.5" y1="764" y2="764"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="88.5" y="760.4385">ok (with task list)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="113.5" y1="804" y2="804"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113.5" x2="113.5" y1="804" y2="817"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="113.5" y1="817" y2="817"/><polygon fill="#A80036" points="82.5,813,72.5,817,82.5,821,78.5,817" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="78.5" y="787.4385">render using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="85.5" y="800.4385">received tasks</text><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="746" x="3" y="844.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="844.5" y2="844.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="847.5" y2="847.5"/><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="21" style="stroke: #000000; stroke-width: 2.0;" width="318" x="217" y="835"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="223" y="850.4385">retrieve list of tasks (long history)</text><polygon fill="#A80036" points="244.5,894,254.5,898,244.5,902,248.5,898" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="250.5" y1="898" y2="898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="78.5" y="881.4385">command(list)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="85.5" y="894.4385">via gRPC</text><polygon fill="#FBFB77" filter="url(#f15v6b9h5rogdx)" points="261,911,261,973,408,973,408,921,398,911,261,911" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="398" x2="398" y1="911" y2="921"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="408" x2="398" y1="921" y2="921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="267" y="927.4385">with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="274" y="940.4385">Done of this week</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="274" y="953.4385">or this month</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="274" y="966.4385">or last 2 months</text><polygon fill="#A80036" points="499.5,997,509.5,1001,499.5,1005,503.5,1001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256.5" x2="505.5" y1="1001" y2="1001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="263.5" y="997.4385">execute select query</text><polygon fill="#A80036" points="267.5,1024,257.5,1028,267.5,1032,263.5,1028" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="510.5" y1="1028" y2="1028"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="273.5" y="1024.4385">ok (with task list)</text><polygon fill="#A80036" points="82.5,1051,72.5,1055,82.5,1059,78.5,1055" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="255.5" y1="1055" y2="1055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="88.5" y="1051.4385">ok (with task list)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="113.5" y1="1095" y2="1095"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113.5" x2="113.5" y1="1095" y2="1108"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="113.5" y1="1108" y2="1108"/><polygon fill="#A80036" points="82.5,1104,72.5,1108,82.5,1112,78.5,1108" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="78.5" y="1078.4385">render using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="85.5" y="1091.4385">received tasks</text><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="746" x="3" y="1135.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="1135.5" y2="1135.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="1138.5" y2="1138.5"/><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="21" style="stroke: #000000; stroke-width: 2.0;" width="182" x="285" y="1126"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="291" y="1141.4385">move a task to Doing</text><polygon fill="#A80036" points="244.5,1185,254.5,1189,244.5,1193,248.5,1189" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="250.5" y1="1189" y2="1189"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="78.5" y="1172.4385">command(update)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="85.5" y="1185.4385">via gRPC</text><polygon fill="#FBFB77" filter="url(#f15v6b9h5rogdx)" points="261,1202,261,1251,415,1251,415,1212,405,1202,261,1202" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="405" x2="405" y1="1202" y2="1212"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="405" y1="1212" y2="1212"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="267" y="1218.4385">with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="274" y="1231.4385">task id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="274" y="1244.4385">new status (Doing)</text><polygon fill="#A80036" points="499.5,1275,509.5,1279,499.5,1283,503.5,1279" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256.5" x2="505.5" y1="1279" y2="1279"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="263.5" y="1275.4385">execute update query</text><polygon fill="#FBFB77" filter="url(#f15v6b9h5rogdx)" points="516,1292,516,1341,740,1341,740,1302,730,1292,516,1292" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="730" x2="730" y1="1292" y2="1302"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="740" x2="730" y1="1302" y2="1302"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="522" y="1308.4385">execute</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="529" y="1321.4385">move current Doing to ToDo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="529" y="1334.4385">move specified task to Doing</text><polygon fill="#A80036" points="267.5,1365,257.5,1369,267.5,1373,263.5,1369" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="510.5" y1="1369" y2="1369"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="273.5" y="1365.4385">ok (with updated tasks)</text><polygon fill="#A80036" points="82.5,1392,72.5,1396,82.5,1400,78.5,1396" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="255.5" y1="1396" y2="1396"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="88.5" y="1392.4385">ok (with updated tasks)</text><polygon fill="#A80036" points="244.5,1419,254.5,1423,244.5,1427,248.5,1423" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="250.5" y1="1423" y2="1423"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="78.5" y="1419.4385">retrieve list of tasks</text><polygon fill="#A80036" points="82.5,1446,72.5,1450,82.5,1454,78.5,1450" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="255.5" y1="1450" y2="1450"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="88.5" y="1446.4385">list of tasks</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="113.5" y1="1490" y2="1490"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113.5" x2="113.5" y1="1490" y2="1503"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="113.5" y1="1503" y2="1503"/><polygon fill="#A80036" points="82.5,1499,72.5,1503,82.5,1507,78.5,1503" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="78.5" y="1473.4385">render using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="85.5" y="1486.4385">received tasks</text><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="746" x="3" y="1530.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="1530.5" y2="1530.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="749" y1="1533.5" y2="1533.5"/><rect fill="#EEEEEE" filter="url(#f15v6b9h5rogdx)" height="21" style="stroke: #000000; stroke-width: 2.0;" width="174" x="289" y="1521"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152" x="295" y="1536.4385">move a task to Done</text><polygon fill="#A80036" points="244.5,1580,254.5,1584,244.5,1588,248.5,1584" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="250.5" y1="1584" y2="1584"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="78.5" y="1567.4385">command(update)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="85.5" y="1580.4385">via gRPC</text><polygon fill="#FBFB77" filter="url(#f15v6b9h5rogdx)" points="261,1597,261,1646,408,1646,408,1607,398,1597,261,1597" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="398" x2="398" y1="1597" y2="1607"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="408" x2="398" y1="1607" y2="1607"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="267" y="1613.4385">with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="274" y="1626.4385">task id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="274" y="1639.4385">new status (Done)</text><polygon fill="#A80036" points="499.5,1670,509.5,1674,499.5,1678,503.5,1674" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256.5" x2="505.5" y1="1674" y2="1674"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="263.5" y="1670.4385">execute update query</text><polygon fill="#FBFB77" filter="url(#f15v6b9h5rogdx)" points="516,1687,516,1723,726,1723,726,1697,716,1687,516,1687" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="716" x2="716" y1="1687" y2="1697"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="726" x2="716" y1="1697" y2="1697"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="522" y="1703.4385">execute</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="529" y="1716.4385">move current Doing to Done</text><polygon fill="#A80036" points="267.5,1747,257.5,1751,267.5,1755,263.5,1751" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="510.5" y1="1751" y2="1751"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="273.5" y="1747.4385">ok (with updated task)</text><polygon fill="#A80036" points="82.5,1774,72.5,1778,82.5,1782,78.5,1778" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="255.5" y1="1778" y2="1778"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="88.5" y="1774.4385">ok (with updated task)</text><polygon fill="#A80036" points="244.5,1801,254.5,1805,244.5,1809,248.5,1805" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="250.5" y1="1805" y2="1805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="78.5" y="1801.4385">retrieve list of tasks</text><polygon fill="#A80036" points="82.5,1828,72.5,1832,82.5,1836,78.5,1832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="255.5" y1="1832" y2="1832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="88.5" y="1828.4385">list of tasks</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="113.5" y1="1872" y2="1872"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113.5" x2="113.5" y1="1872" y2="1885"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="113.5" y1="1885" y2="1885"/><polygon fill="#A80036" points="82.5,1881,72.5,1885,82.5,1889,78.5,1885" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="78.5" y="1855.4385">render using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="85.5" y="1868.4385">received tasks</text><!--
@startuml

hide footbox

actor user           as user
participant "cui"    as cui
participant "daemon" as d
participant "DB"     as db

== initialize daemon ==

user -> d : launch
d -> db : create config and DB if not exist
d <- db : ok
d -> d : start gRPC server
user <- d : ok

== add a new task ==

cui -> d : command(new)\n via gRPC
note right of d : with task's\n name\n status\n label
d -> db : execute insert query
d <- db : ok
cui <- d : ok

== retrieve list of tasks (ordinal use) ==

cui -> d : command(list)\n via gRPC
note right of d : with\n Backlog\n ToDo\n Doing\n Today's Done
d -> db : execute select query
d <- db : ok (with task list)
cui <- d : ok (with task list)
cui -> cui : render using\n received tasks

== retrieve list of tasks (long history) ==

cui -> d : command(list)\n via gRPC
note right of d : with\n Done of this week\n or this month\n or last 2 months
d -> db : execute select query
d <- db : ok (with task list)
cui <- d : ok (with task list)
cui -> cui : render using\n received tasks

== move a task to Doing ==

cui -> d : command(update)\n via gRPC
note right of d : with\n task id\n new status (Doing)
d -> db : execute update query
note right of db: execute\n move current Doing to ToDo\n move specified task to Doing
d <- db : ok (with updated tasks)
cui <- d : ok (with updated tasks)
cui -> d : retrieve list of tasks
cui <- d : list of tasks
cui -> cui : render using\n received tasks

== move a task to Done ==

cui -> d : command(update)\n via gRPC
note right of d : with\n task id\n new status (Done)
d -> db : execute update query
note right of db: execute\n move current Doing to Done
d <- db : ok (with updated task)
cui <- d : ok (with updated task)
cui -> d : retrieve list of tasks
cui <- d : list of tasks
cui -> cui : render using\n received tasks

@enduml

PlantUML version 1.2017.14(Mon Jun 05 18:56:32 JST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_144-b01
Operating System: Linux
OS Version: 4.12.14-1-MANJARO
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>